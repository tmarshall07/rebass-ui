{"version":3,"file":"bundle.esm.js","sources":["../../../src/class/debouncer.ts","../../../src/hooks/useClickOutside.ts","../../../src/components/Box.tsx","../../../src/components/Input.tsx","../../../src/components/Autocomplete.tsx","../../../src/components/Text.tsx","../../../src/components/AutocompleteMenuItem.tsx","../../../src/context/SchemeContext.tsx","../../../src/hooks/useColors.ts","../../../src/helpers/colors.ts","../../../src/components/Button.tsx","../../../src/components/Card.tsx","../../../src/hooks/useDebounce.ts","../../../src/components/FetchAutocomplete.tsx","../../../src/components/IconButton.tsx","../../../src/components/Switch.tsx","../../../src/index.ts"],"sourcesContent":["class Debouncer {\n  timeout: ReturnType<typeof setTimeout>;\n\n  delay: number;\n\n  value: any;\n\n  constructor(initialValue = null, delay = 500) {\n    this.value = initialValue;\n    this.delay = delay;\n    this.timeout = null;\n  }\n\n  getValue() {\n    return this.value;\n  }\n\n  setValue(newValue, callback) {\n    clearTimeout(this.timeout);\n\n    this.timeout = setTimeout(() => {\n      this.value = newValue;\n      callback(newValue);\n    }, this.delay);\n  }\n}\n\nexport default Debouncer;\n","import { useEffect } from 'react';\n\n/**\n * A react hook that fires the callback when clicking outside of the referenced element\n *\n * @param {Object} ref - react reference object with a `current` property\n * @param {Function} callback - a callback function that fires when clicking outside the element\n */\nconst useOutsideClick = (ref, callback) => {\n  const handleClick = (e) => {\n    if (ref.current && !ref.current.contains(e.target)) {\n      callback(e);\n    }\n  };\n\n  useEffect(() => {\n    document.addEventListener('click', handleClick);\n    return () => {\n      // Cleanup\n      document.removeEventListener('click', handleClick);\n    };\n  });\n};\n\nexport default useOutsideClick;\n","import React, { forwardRef } from 'react';\nimport { BoxProps as _BoxProps, Box as RebassBox, Flex as RebassFlex, FlexProps } from 'rebass/styled-components';\n\nexport type BoxProps = _BoxProps;\n\nexport const Box = forwardRef((props: BoxProps, ref) => {\n  return <RebassBox color=\"text\" {...props} ref={ref} />;\n});\n\nBox.displayName = 'Box';\n\nexport const Flex = forwardRef((props: FlexProps, ref) => <RebassFlex color=\"text\" {...props} ref={ref} />);\n\nFlex.displayName = 'Flex';\n\nexport default Box;\n","import React from 'react';\nimport { Input as _Input, InputProps } from '@rebass/forms/styled-components';\n\nconst Input = (props: InputProps) => (\n  <_Input\n    {...props}\n    sx={{\n      borderRadius: 3,\n      borderColor: 'transparent',\n      bg: 'gray5',\n      p: '0.9em',\n      color: 'gray80',\n      ...(props.sx || {}),\n    }}\n  />\n);\n\nexport default Input;\n","import { InputProps } from '@rebass/forms';\nimport React, { ChangeEvent, KeyboardEvent, ReactChild, useEffect, useRef, useState } from 'react';\nimport useClickOutside from '../hooks/useClickOutside';\nimport Box, { BoxProps } from './Box';\nimport Input from './Input';\n\nexport type Item = { [index: string]: any };\n\nexport type AutocompleteProps = {\n  value: string;\n  items?: Item[];\n  placeholder?: string;\n  menuProps?: BoxProps;\n  inputProps?: InputProps;\n  keyExtractor: (item: Item) => string | number;\n  renderItem: (item: Item, hasFocus: boolean) => ReactChild;\n  onChange?: (e: ChangeEvent) => void;\n  onSelect?: (item: Item) => void;\n};\n\n/**\n * Update the scroll to show more items as the user arrows up or down\n *\n * @param {HTMLElement} el\n * @param {number} index\n */\nconst updateScroll = (el: HTMLElement, index: number): void => {\n  const parent = el;\n  if (parent?.children) {\n    const child = parent.children[index] as HTMLElement;\n    if (child) {\n      const childOffsetTop = child.offsetTop;\n      const parentScrollTop = parent.scrollTop;\n      const parentHeight = parent.offsetHeight;\n      const childHeight = child.offsetHeight;\n\n      if (childOffsetTop + childHeight > parentHeight + parentScrollTop) {\n        const scrollToY = childOffsetTop + childHeight - parentHeight;\n        parent.scrollTo(0, scrollToY);\n      } else if (childOffsetTop < parentScrollTop) {\n        parent.scrollTo(0, childOffsetTop);\n      }\n    }\n  }\n};\n\nconst Autocomplete = (props: AutocompleteProps): JSX.Element => {\n  const {\n    value,\n    placeholder,\n    items = [],\n    menuProps = {},\n    inputProps = {},\n    onChange,\n    onSelect,\n    keyExtractor,\n    renderItem,\n  } = props;\n\n  const menuRef = useRef<HTMLElement>();\n\n  const [menuVisible, setMenuVisible] = useState(false);\n  const [focusedIndex, setFocusedIndex] = useState(0);\n\n  // Handle using arrows to scroll up and down\n  useEffect(() => {\n    updateScroll(menuRef.current, focusedIndex);\n  }, [focusedIndex]);\n\n  const containerRef = useRef();\n\n  useClickOutside(containerRef, () => setMenuVisible(false));\n\n  const handleSelect = (item): void => {\n    setMenuVisible(false);\n    onSelect(item);\n  };\n\n  const handleFocus = (e): void => {\n    setMenuVisible(true);\n    inputProps.onFocus?.(e);\n  };\n\n  const handleKeyDown = (e: KeyboardEvent): void => {\n    let newFocusedIndex = focusedIndex;\n    switch (e.key) {\n      case 'ArrowUp': // Up\n        e.preventDefault();\n        if (!(focusedIndex - 1 < 0)) newFocusedIndex -= 1;\n        break;\n      case 'ArrowDown': // Down\n        e.preventDefault();\n        if (!(focusedIndex + 1 >= items.length)) newFocusedIndex += 1;\n        break;\n      case 'Enter': // Enter\n        e.preventDefault();\n        handleSelect(items[focusedIndex]);\n        break;\n      default:\n        break;\n    }\n\n    setFocusedIndex(newFocusedIndex);\n  };\n\n  return (\n    <Box sx={{ position: 'relative' }} ref={containerRef}>\n      <Input\n        placeholder={placeholder}\n        value={value}\n        onChange={onChange}\n        onFocus={handleFocus}\n        onKeyDown={handleKeyDown}\n        {...inputProps}\n      />\n      {menuVisible && !!items.length && (\n        <Box\n          ref={menuRef}\n          {...menuProps}\n          sx={{\n            position: 'absolute',\n            bg: 'bg-2',\n            maxHeight: 300,\n            width: '100%',\n            overflow: 'auto',\n            zIndex: 2,\n            marginTop: 1,\n            borderRadius: 5,\n            boxShadow: 'large',\n            borderStyle: 'solid',\n            borderColor: 'gray5',\n            borderWidth: 1,\n            ...(menuProps?.sx || {}),\n          }}\n        >\n          {items.map((item, i) => (\n            <Box onClick={() => handleSelect(item)} key={keyExtractor(item)}>\n              {renderItem(item, i === focusedIndex)}\n            </Box>\n          ))}\n        </Box>\n      )}\n    </Box>\n  );\n};\n\nexport default Autocomplete;\n","import React from 'react';\nimport { Text as _Text, TextProps } from 'rebass/styled-components';\n\nconst base = {\n  color: 'gray90',\n};\n\nexport const P = (props: TextProps) => <_Text as=\"p\" {...base} {...props} />;\n\nexport const A = (props: TextProps) => <_Text as=\"a\" fontSize={16} fontWeight={400} {...base} {...props} />;\n\nexport const H4 = (props: TextProps) => <_Text as=\"h4\" {...base} {...props} />;\n\nexport const H3 = (props: TextProps) => <_Text as=\"h3\" {...base} {...props} />;\n\nexport const H2 = (props: TextProps) => <_Text as=\"h2\" {...base} {...props} />;\n\nexport const H1 = (props: TextProps) => <_Text as=\"h1\" fontWeight={700} {...base} {...props} />;\n\nexport const Text = (props: TextProps) => <_Text {...base} {...props}  />;\n","import React from 'react';\nimport { SxProps } from 'rebass';\nimport { P } from './Text';\n\nexport type AutocompleteMenuItemProps = {\n  text: string;\n  onSelect?: (item: any) => void;\n  sx?: SxProps;\n  focused?: boolean;\n};\n\nconst AutocompleteMenuItem = (props: AutocompleteMenuItemProps) => {\n  const { onSelect, text, focused, sx = {} } = props;\n  return (\n    <P\n      p={2}\n      sx={{\n        cursor: 'pointer',\n        ':hover': {\n          bg: 'gray10',\n        },\n        ...(focused\n          ? {\n              bg: 'gray10',\n            }\n          : {}),\n        ...{ sx },\n      }}\n      onClick={onSelect}\n    >\n      {text}\n    </P>\n  );\n};\n\nexport default AutocompleteMenuItem;\n","import React, { useContext, useEffect, useState } from 'react';\nimport { ThemeProvider } from 'styled-components';\n\ntype ColorsProps = {\n  [index: string]: string;\n};\n\ntype SchemeProps = {\n  [index: string]: ColorsProps;\n};\n\nconst SCHEMES = ['light', 'dark'] as const;\ntype SchemeType = typeof SCHEMES[number];\ntype StateType = 'auto' | 'user';\n\nconst PREFERS_COLOR_SCHEME = '(prefers-color-scheme: dark)';\n\nenum STORAGE_KEYS {\n  mode = 'settings:dark:mode',\n  value = 'settings:dark:value',\n}\n\ntype SchemeSettingsRes = [StateType | null, SchemeType | null];\nexport const getSchemeSettings = async (): Promise<SchemeSettingsRes> =>\n  (await Promise.all([\n    localStorage.getItem(STORAGE_KEYS['mode']),\n    localStorage.getItem(STORAGE_KEYS['value']),\n  ])) as SchemeSettingsRes;\n\nexport type ColorSchemeProps = {\n  scheme: SchemeType; // The current app scheme\n  userScheme: SchemeType; // The user's chosen scheme (may be different if 'auto' is true)\n  setScheme: (newScheme: SchemeType) => void;\n  auto: boolean;\n  setAuto: (newAuto: boolean) => void;\n};\n\n// The useLightDarkScheme value is always either light or dark, but the built-in\n// type suggests that it can be null. This will not happen in practice, so this\n// makes it a bit easier to work with.\nfunction useLightDarkScheme(): ColorSchemeProps {\n  const [systemScheme, setSystemScheme] = useState<SchemeType>('light');\n  const [scheme, setScheme] = useState<SchemeType>('light');\n  const [auto, setAuto] = useState(true);\n\n  // Set whether we should be using the device scheme or user's scheme\n  const handleSetAuto = (isAuto: boolean) => {\n    if (isAuto) {\n      void localStorage.setItem(STORAGE_KEYS['mode'], 'auto');\n    } else {\n      void localStorage.setItem(STORAGE_KEYS['mode'], 'user');\n    }\n\n    setAuto(isAuto);\n  };\n\n  // Set the current scheme\n  const handleSetScheme = (scheme: SchemeType) => {\n    void localStorage.setItem(STORAGE_KEYS['value'], scheme);\n    setScheme(scheme);\n  };\n\n  // Get initial stored user preference\n  const getUserPreference = async () => {\n    const [state, userScheme] = await getSchemeSettings();\n\n    if (state === 'user') {\n      if (userScheme && userScheme !== scheme) setScheme(userScheme);\n      setAuto(false);\n    }\n  };\n\n  useEffect(() => {\n    const updateSchemes = (event) => {\n      const newColorScheme = event.matches ? 'dark' : 'light';\n      setSystemScheme(newColorScheme);\n    };\n\n    void getUserPreference();\n\n    window.matchMedia(PREFERS_COLOR_SCHEME).addEventListener('change', updateSchemes);\n\n    const scheme = window.matchMedia(PREFERS_COLOR_SCHEME) ? 'dark' : 'light';\n    setSystemScheme(scheme);\n\n    return () => {\n      window.matchMedia(PREFERS_COLOR_SCHEME).removeEventListener('change', updateSchemes);\n    };\n  }, []);\n\n  return {\n    scheme: auto ? systemScheme : scheme,\n    userScheme: scheme,\n    auto,\n    setScheme: handleSetScheme,\n    setAuto: handleSetAuto,\n  };\n}\n\ntype SchemeContextProps = ColorSchemeProps & { colors: ColorsProps };\n\nconst SchemeContext = React.createContext<SchemeContextProps>({\n  colors: null,\n  scheme: 'light',\n} as SchemeContextProps);\n\nexport type SchemeProviderProps = {\n  colorSchemes?: SchemeProps;\n  theme?: { [index: string]: any };\n  scheme?: string;\n  children: React.ReactNode;\n};\n\nexport function SchemeProvider({ theme = {}, scheme = '', colorSchemes = {}, children }: SchemeProviderProps) {\n  // Get current light / dark scheme\n  const colorScheme = useLightDarkScheme();\n\n  // Use passed scheme if it exists, otherwise use light / dark, otherwise use first available scheme\n  const colors = colorSchemes[scheme] || colorSchemes[colorScheme.scheme] || colorSchemes[Object.keys(colorSchemes)[0]];\n\n  return (\n    <SchemeContext.Provider value={{ ...colorScheme, colors }}>\n      <ThemeProvider theme={{ ...theme, colors }}>{children}</ThemeProvider>\n    </SchemeContext.Provider>\n  );\n}\n\nexport const useSchemeContext = (): SchemeContextProps => useContext(SchemeContext);\n","import { useSchemeContext } from '../context/SchemeContext';\n\nexport default function useColors() {\n  const { colors } = useSchemeContext();\n\n  return colors;\n}\n","import { darken } from 'polished';\n\nexport default {\n  text: '#282C30',\n  gray5: darken(0.05, '#F8F8F8'),\n};\n","import useColors from '../hooks/useColors';\nimport { transparentize, darken } from 'polished';\nimport React from 'react';\nimport defaultColors from '../helpers/colors';\nimport { Button as RebassButton, ButtonProps as RebassButtonProps, Flex, SxProps } from 'rebass/styled-components';\n\nexport type VariantProps = {\n  [index: string]: (color: string) => SxProps;\n};\n\nexport type ButtonProps = RebassButtonProps & {\n  startIcon?: React.ReactNode;\n  endIcon?: React.ReactNode;\n  children?: React.ReactNode;\n  variant?: 'outline' | 'transparent';\n  variants?: VariantProps;\n  color?: string;\n  bg?: string;\n  enabled?: boolean;\n  disabledSx?: (bg: string) => SxProps;\n};\n\nconst TRANSPARENCY_HOVER = 0.95;\nconst TRANSPARENCY_ACTIVE = 0.92;\n\nconst outline = (color: string) => {\n  return {\n    bg: 'transparent',\n    color,\n    border: `1px solid ${transparentize(0.75, color)}`,\n\n    ':hover': {\n      bg: color ? transparentize(TRANSPARENCY_HOVER, color) : transparentize(TRANSPARENCY_HOVER, 'black'),\n    },\n    ':active': {\n      bg: color ? transparentize(TRANSPARENCY_ACTIVE, color) : transparentize(TRANSPARENCY_ACTIVE, 'black'),\n    },\n  };\n};\n\nconst transparent = (color: string) => ({\n  bg: 'transparent',\n  boxShadow: 'none',\n  color,\n\n  ':hover': {\n    bg: color ? transparentize(TRANSPARENCY_HOVER, color) : transparentize(TRANSPARENCY_HOVER, 'black'),\n  },\n  ':active': {\n    bg: color ? transparentize(TRANSPARENCY_ACTIVE, color) : transparentize(TRANSPARENCY_ACTIVE, 'black'),\n  },\n});\n\nconst disabledSx = (bg: string) => {\n  const styles = { opacity: 0.5, cursor: 'initial', bg };\n  return {\n    ...styles,\n    ':focus,:active,:hover': { ...styles },\n  };\n};\n\n// eslint-disable-next-line complexity\nexport default function Button(props: ButtonProps) {\n  const {\n    color: colorProp = 'text',\n    bg: bgProp = 'gray5',\n    variants: variantsProps = {},\n    children,\n    sx,\n    startIcon,\n    variant,\n    endIcon,\n    disabledSx: disabledSxProp,\n    disabled: disabledProp = false,\n    enabled = true,\n  } = props;\n\n  const colors = useColors();\n  const colorsMap = colors || defaultColors;\n\n  const color = colorsMap[colorProp] || colorProp;\n  const bg = colorsMap[bgProp] || bgProp;\n\n  const variants = {\n    outline,\n    transparent,\n    ...variantsProps,\n  };\n\n  const isDisabled = !enabled || disabledProp;\n  const disabledStyles = disabledSxProp || disabledSx;\n\n  return (\n    <RebassButton\n      disabled={isDisabled}\n      variant={variant}\n      px=\"1em\"\n      py=\"0.5em\"\n      {...props}\n      sx={{\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        cursor: 'pointer',\n        fontWeight: 'bold',\n        color,\n        bg,\n        ...sx,\n        ':focus': {\n          outline: 'none',\n          ...(sx?.[':focus'] || {}),\n        },\n        ':hover': {\n          bg: darken(0.05, bg),\n          ...(sx?.[':hover'] || {}),\n        },\n        ':active': {\n          bg: darken(0.1, bg),\n          ...(sx?.[':active'] || {}),\n        },\n        ...(isDisabled ? disabledStyles(bg) : {}),\n        ...(variants[variant]?.(color) ?? {}),\n      }}\n    >\n      {startIcon && (\n        <Flex mr={2} alignItems=\"center\">\n          {startIcon}\n        </Flex>\n      )}\n      {children}\n      {endIcon && (\n        <Flex ml={2} alignItems=\"center\">\n          {endIcon}\n        </Flex>\n      )}\n    </RebassButton>\n  );\n}\n","import React from 'react';\nimport { BoxProps } from 'rebass';\nimport Box from './Box';\n\nexport type CardProps = BoxProps & {\n  boxShadow?: 'small' | 'large';\n};\n\nconst Card = (props: CardProps) => {\n  const { boxShadow = 'large' } = props;\n  return (\n    <Box\n      p={[3, 4]}\n      bg=\"bg-0\"\n      color=\"text\"\n      {...props}\n      sx={{\n        boxShadow,\n        borderRadius: 10,\n        ...(props.sx || {}),\n      }}\n    />\n  );\n};\n\nexport default Card;\n","import { useState, useRef, useEffect } from 'react';\n\nimport Debouncer from '../class/debouncer';\n\n// Hook\nfunction useDebounce(value, delay = 500) {\n  // State and setters for debounced value\n  const [debouncedValue, setDebouncedValue] = useState(value);\n  const debouncer = useRef(new Debouncer(value, delay));\n\n  useEffect(\n    () => {\n      debouncer.current.setValue(value, () => {\n        setDebouncedValue(value);\n      });\n    },\n    [value, delay], // Only re-call effect if value or delay changes\n  );\n\n  return debouncedValue;\n}\n\nexport default useDebounce;\n","import React, { useEffect, useState } from 'react';\nimport useDebounce from '../hooks/useDebounce';\nimport Autocomplete, { AutocompleteProps, Item } from './Autocomplete';\n\ntype Props = AutocompleteProps & {\n  onSelect: (item: Item) => void;\n  debounce?: number;\n  formatResponse?: (data: any) => any[];\n  request: (value: string) => Promise<any>;\n};\n\nconst FetchAutocomplete = (props: Props) => {\n  const { onSelect, request, formatResponse, debounce = 500 } = props;\n\n  const [autocompleteItems, setAutocompleteItems] = useState([]);\n\n  const debouncedValue = useDebounce(props.value, debounce);\n\n  const search = async (val: string) => {\n    const res = await request(val);\n\n    if (res) {\n      const newItems = formatResponse(res);\n      setAutocompleteItems(newItems);\n    }\n  };\n\n  useEffect(() => {\n    search(debouncedValue);\n  }, [debouncedValue]);\n\n  return <Autocomplete {...props} items={autocompleteItems} onSelect={onSelect} />;\n};\n\nexport default FetchAutocomplete;\n","import React, { ReactNode } from 'react';\nimport Button, { ButtonProps } from './Button';\n\ntype Props = ButtonProps & {\n  icon: ReactNode;\n  round?: boolean;\n  iconSize?: number | string;\n};\n\nexport default function IconButton(props: Props) {\n  const { icon, sx, round, iconSize = 24, onClick, ...rest } = props;\n\n  return (\n    <Button\n      {...rest}\n      onClick={onClick}\n      sx={{\n        fontSize: iconSize,\n        width: '1.75em',\n        height: '1.75em',\n        padding: 0,\n        ...(round ? { borderRadius: 50 } : {}),\n        ...sx,\n      }}\n    >\n      {icon}\n    </Button>\n  );\n}\n","import React from 'react';\nimport { Switch as _Switch, SwitchProps as _SwitchProps } from '@rebass/forms/styled-components';\n\nexport type SwitchProps = _SwitchProps & {\n  color?: 'string';\n};\n\nconst Switch = (props: SwitchProps) => {\n  const { color = 'primary', disabled, checked } = props;\n  return (\n    <_Switch\n      sx={{\n        borderColor: checked ? color : 'gray10',\n        opacity: disabled ? 0.5 : 1,\n        '> div': {\n          backgroundColor: 'bg-0',\n          borderColor: checked ? color : 'gray20',\n        },\n        '&[aria-checked=false]': {\n          bg: 'gray5',\n        },\n        '&[aria-checked=true]': {\n          bg: color,\n        },\n      }}\n      {...props}\n    />\n  );\n};\n\nexport default Switch;\n","import _Debouncer from './class/debouncer';\nimport _Autocomplete from './components/Autocomplete';\nimport _AutocompleteMenuItem from './components/AutocompleteMenuItem';\nimport { Box as _Box, Flex as _Flex } from './components/Box';\nimport _Button from './components/Button';\nimport _Card from './components/Card';\nimport _FetchAutocomplete from './components/FetchAutocomplete';\nimport _IconButton from './components/IconButton';\nimport _Input from './components/Input';\nimport _Switch from './components/Switch';\nimport { Text as _Text, A as _A, H1 as _H1, H2 as _H2, H3 as _H3, H4 as _H4, P as _P } from './components/Text';\nimport _useOutsideClick from './hooks/useClickOutside';\nimport _useDebounce from './hooks/useDebounce';\nimport _useColors from './hooks/useColors';\nimport { useSchemeContext as _useSchemeContext, SchemeProvider as _SchemeProvider } from './context/SchemeContext';\n\nexport const Autocomplete = _Autocomplete;\nexport const AutocompleteMenuItem = _AutocompleteMenuItem;\nexport const Box = _Box;\nexport const Flex = _Flex;\nexport const Button = _Button;\nexport const Card = _Card;\nexport const FetchAutocomplete = _FetchAutocomplete;\nexport const IconButton = _IconButton;\nexport const Input = _Input;\nexport const Switch = _Switch;\nexport const Text = _Text;\nexport const P = _P;\nexport const H1 = _H1;\nexport const H2 = _H2;\nexport const H3 = _H3;\nexport const H4 = _H4;\nexport const A = _A;\n\nexport const Debouncer = _Debouncer;\n\nexport const useClickOutside = _useOutsideClick;\nexport const useColors = _useColors;\nexport const useDebounce = _useDebounce;\nexport const useSchemeContext = _useSchemeContext;\n\nexport const SchemeProvider = _SchemeProvider;\n"],"names":["Debouncer","initialValue","delay","value","timeout","prototype","getValue","setValue","newValue","callback","_this","clearTimeout","setTimeout","useOutsideClick","ref","handleClick","e","current","contains","target","useEffect","document","addEventListener","removeEventListener","Box","RebassBox","Flex","RebassFlex","Input","_Input","Autocomplete","useClickOutside","P","_Text","A","H4","H3","H2","H1","Text","AutocompleteMenuItem","SchemeProvider","useSchemeContext","useColors","colors","text","gray5","darken","Button","RebassButton","Card","useDebounce","_a","useState","debouncedValue","setDebouncedValue","debouncer","useRef","FetchAutocomplete","IconButton","Switch","_Switch","_Autocomplete","_AutocompleteMenuItem","_Box","_Flex","_Button","_Card","_FetchAutocomplete","_IconButton","_P","_H1","_H2","_H3","_H4","_A","_Debouncer","_useOutsideClick","_useColors","_useDebounce","_useSchemeContext","_SchemeProvider"],"mappings":"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"}