!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("tslib"),require("react"),require("rebass/styled-components"),require("@rebass/forms/styled-components"),require("styled-components"),require("polished")):"function"==typeof define&&define.amd?define(["exports","tslib","react","rebass/styled-components","@rebass/forms/styled-components","styled-components","polished"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["scheme-ui"]={},e.tslib,e.React,e.styledComponents,e.styledComponents$1,e.styledComponents$2,e.polished)}(this,(function(e,t,n,r,o,a,i){"use strict";function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=s(n),c=function(){function e(e,t){void 0===e&&(e=null),void 0===t&&(t=500),this.value=e,this.delay=t,this.timeout=null}return e.prototype.getValue=function(){return this.value},e.prototype.setValue=function(e,t){var n=this;clearTimeout(this.timeout),this.timeout=setTimeout((function(){n.value=e,t(e)}),this.delay)},e}(),l=function(e,t){var r=function(n){e.current&&!e.current.contains(n.target)&&t(n)};n.useEffect((function(){return document.addEventListener("click",r),function(){document.removeEventListener("click",r)}}))},d=n.forwardRef((function(e,n){return u.default.createElement(r.Box,t.__assign({color:"text"},e,{ref:n}))}));d.displayName="Box";var f=n.forwardRef((function(e,n){return u.default.createElement(r.Flex,t.__assign({color:"text"},e,{ref:n}))}));f.displayName="Flex";var g,v=function(e){return u.default.createElement(o.Input,t.__assign({},e,{sx:t.__assign({borderRadius:3,borderColor:"transparent",bg:"gray5",p:"0.9em",color:"gray80"},e.sx||{})}))},m=function(e){var r=e.value,o=e.placeholder,a=e.items,i=void 0===a?[]:a,s=e.menuProps,c=void 0===s?{}:s,f=e.inputProps,g=void 0===f?{}:f,m=e.onChange,_=e.onSelect,h=e.keyExtractor,p=e.renderItem,b=n.useRef(),x=n.useState(!1),y=x[0],E=x[1],S=n.useState(0),k=S[0],w=S[1];n.useEffect((function(){!function(e,t){var n=e;if(null==n?void 0:n.children){var r=n.children[t];if(r){var o=r.offsetTop,a=n.scrollTop,i=n.offsetHeight,s=r.offsetHeight;if(o+s>i+a){var u=o+s-i;n.scrollTo(0,u)}else o<a&&n.scrollTo(0,o)}}}(b.current,k)}),[k]);var C=n.useRef();l(C,(function(){return E(!1)}));var T=function(e){E(!1),_(e)};return u.default.createElement(d,{sx:{position:"relative"},ref:C},u.default.createElement(v,t.__assign({placeholder:o,value:r,onChange:m,onFocus:function(e){var t;E(!0),null===(t=g.onFocus)||void 0===t||t.call(g,e)},onKeyDown:function(e){var t=k;switch(e.key){case"ArrowUp":e.preventDefault(),k-1<0||(t-=1);break;case"ArrowDown":e.preventDefault(),k+1>=i.length||(t+=1);break;case"Enter":e.preventDefault(),T(i[k])}w(t)}},g)),y&&!!i.length&&u.default.createElement(d,t.__assign({ref:b},c,{sx:t.__assign({position:"absolute",bg:"bg-2",maxHeight:300,width:"100%",overflow:"auto",zIndex:2,marginTop:1,borderRadius:5,boxShadow:"large",borderStyle:"solid",borderColor:"gray5",borderWidth:1},(null==c?void 0:c.sx)||{})}),i.map((function(e,t){return u.default.createElement(d,{onClick:function(){return T(e)},key:h(e)},p(e,t===k))}))))},_={color:"gray90"},h=function(e){return u.default.createElement(r.Text,t.__assign({as:"p"},_,e))},p="(prefers-color-scheme: dark)";!function(e){e.mode="settings:dark:mode",e.value="settings:dark:value"}(g||(g={}));var b=u.default.createContext({colors:null,scheme:"light"}),x=function(){return n.useContext(b)};function y(){return x().colors}var E={text:"#282C30",gray5:i.darken(.05,"#F8F8F8")},S=.95,k=.92,w=function(e){return{bg:"transparent",color:e,border:"1px solid ".concat(i.transparentize(.75,e)),":hover":{bg:e?i.transparentize(S,e):i.transparentize(S,"black")},":active":{bg:e?i.transparentize(k,e):i.transparentize(k,"black")}}},C=function(e){return{bg:"transparent",boxShadow:"none",color:e,":hover":{bg:e?i.transparentize(S,e):i.transparentize(S,"black")},":active":{bg:e?i.transparentize(k,e):i.transparentize(k,"black")}}},T=function(e){var n={opacity:.5,cursor:"initial",bg:e};return t.__assign(t.__assign({},n),{":focus,:active,:hover":t.__assign({},n)})};function I(e){var n,o,a=e.color,s=void 0===a?"text":a,c=e.bg,l=void 0===c?"gray5":c,d=e.variants,f=void 0===d?{}:d,g=e.children,v=e.sx,m=e.startIcon,_=e.variant,h=e.endIcon,p=e.disabledSx,b=e.disabled,x=void 0!==b&&b,S=e.enabled,k=void 0===S||S,I=y()||E,z=I[s]||s,F=I[l]||l,R=t.__assign({outline:w,transparent:C},f),P=!k||x,q=p||T;return u.default.createElement(r.Button,t.__assign({disabled:P,variant:_,px:"1em",py:"0.5em"},e,{sx:t.__assign(t.__assign(t.__assign(t.__assign({display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontWeight:"bold",color:z,bg:F},v),{":focus":t.__assign({outline:"none"},(null==v?void 0:v[":focus"])||{}),":hover":t.__assign({bg:i.darken(.05,F)},(null==v?void 0:v[":hover"])||{}),":active":t.__assign({bg:i.darken(.1,F)},(null==v?void 0:v[":active"])||{})}),P?q(F):{}),null!==(o=null===(n=R[_])||void 0===n?void 0:n.call(R,z))&&void 0!==o?o:{})}),m&&u.default.createElement(r.Flex,{mr:2,alignItems:"center"},m),g,h&&u.default.createElement(r.Flex,{ml:2,alignItems:"center"},h))}function z(e,t){void 0===t&&(t=500);var r=n.useState(e),o=r[0],a=r[1],i=n.useRef(new c(e,t));return n.useEffect((function(){i.current.setValue(e,(function(){a(e)}))}),[e,t]),o}var F=m,R=d,P=f,q=I,A=v,D=h,H=c,B=l,j=y,M=z,L=x;e.A=function(e){return u.default.createElement(r.Text,t.__assign({as:"a",fontSize:16,fontWeight:400},_,e))},e.Autocomplete=F,e.AutocompleteMenuItem=function(e){var n=e.onSelect,r=e.text,o=e.focused,a=e.sx,i=void 0===a?{}:a;return u.default.createElement(h,{p:2,sx:t.__assign(t.__assign({cursor:"pointer",":hover":{bg:"gray10"}},o?{bg:"gray10"}:{}),{sx:i}),onClick:n},r)},e.Box=R,e.Button=q,e.Card=function(e){var n=e.boxShadow,r=void 0===n?"large":n;return u.default.createElement(d,t.__assign({p:[3,4],bg:"bg-0",color:"text"},e,{sx:t.__assign({boxShadow:r,borderRadius:10},e.sx||{})}))},e.Debouncer=H,e.FetchAutocomplete=function(e){var r=e.onSelect,o=e.request,a=e.formatResponse,i=e.debounce,s=void 0===i?500:i,c=n.useState([]),l=c[0],d=c[1],f=z(e.value,s);return n.useEffect((function(){var e;e=f,t.__awaiter(void 0,void 0,void 0,(function(){var n,r;return t.__generator(this,(function(t){switch(t.label){case 0:return[4,o(e)];case 1:return(n=t.sent())&&(r=a(n),d(r)),[2]}}))}))}),[f]),u.default.createElement(m,t.__assign({},e,{items:l,onSelect:r}))},e.Flex=P,e.H1=function(e){return u.default.createElement(r.Text,t.__assign({as:"h1",fontWeight:700},_,e))},e.H2=function(e){return u.default.createElement(r.Text,t.__assign({as:"h2"},_,e))},e.H3=function(e){return u.default.createElement(r.Text,t.__assign({as:"h3"},_,e))},e.H4=function(e){return u.default.createElement(r.Text,t.__assign({as:"h4"},_,e))},e.IconButton=function(e){var n=e.icon,r=e.sx,o=e.round,a=e.iconSize,i=void 0===a?24:a,s=e.onClick,c=t.__rest(e,["icon","sx","round","iconSize","onClick"]);return u.default.createElement(I,t.__assign({},c,{onClick:s,sx:t.__assign(t.__assign({fontSize:i,width:"1.75em",height:"1.75em",padding:0},o?{borderRadius:50}:{}),r)}),n)},e.Input=A,e.P=D,e.SchemeProvider=function(e){var r=e.theme,o=void 0===r?{}:r,i=e.scheme,s=void 0===i?"":i,c=e.colorSchemes,l=void 0===c?{}:c,d=e.children,f=function(){var e=this,r=n.useState("light"),o=r[0],a=r[1],i=n.useState("light"),s=i[0],u=i[1],c=n.useState(!0),l=c[0],d=c[1],f=function(){return t.__awaiter(e,void 0,void 0,(function(){var e,n,r;return t.__generator(this,(function(o){switch(o.label){case 0:return[4,t.__awaiter(void 0,void 0,void 0,(function(){return t.__generator(this,(function(e){switch(e.label){case 0:return[4,Promise.all([localStorage.getItem(g.mode),localStorage.getItem(g.value)])];case 1:return[2,e.sent()]}}))}))];case 1:return e=o.sent(),n=e[0],r=e[1],"user"===n&&(r&&r!==s&&u(r),d(!1)),[2]}}))}))};return n.useEffect((function(){var e=function(e){var t=e.matches?"dark":"light";a(t)};f(),window.matchMedia(p).addEventListener("change",e);var t=window.matchMedia(p)?"dark":"light";return a(t),function(){window.matchMedia(p).removeEventListener("change",e)}}),[]),{scheme:l?o:s,userScheme:s,auto:l,setScheme:function(e){localStorage.setItem(g.value,e),u(e)},setAuto:function(e){e?localStorage.setItem(g.mode,"auto"):localStorage.setItem(g.mode,"user"),d(e)}}}(),v=l[s]||l[f.scheme]||l[Object.keys(l)[0]];return u.default.createElement(b.Provider,{value:t.__assign(t.__assign({},f),{colors:v})},u.default.createElement(a.ThemeProvider,{theme:t.__assign(t.__assign({},o),{colors:v})},d))},e.Switch=function(e){var n=e.color,r=void 0===n?"primary":n,a=e.disabled,i=e.checked;return u.default.createElement(o.Switch,t.__assign({sx:{borderColor:i?r:"gray10",opacity:a?.5:1,"> div":{backgroundColor:"bg-0",borderColor:i?r:"gray20"},"&[aria-checked=false]":{bg:"gray5"},"&[aria-checked=true]":{bg:r}}},e))},e.Text=function(e){return u.default.createElement(r.Text,t.__assign({},_,e))},e.useClickOutside=B,e.useColors=j,e.useDebounce=M,e.useSchemeContext=L,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=bundle.umd.min.js.map
