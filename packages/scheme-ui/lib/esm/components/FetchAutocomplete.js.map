{"version":3,"sources":["../../../src/components/FetchAutocomplete.tsx"],"names":["React","useEffect","useState","useDebounce","Autocomplete","FetchAutocomplete","props","onSelect","request","formatResponse","debounce","autocompleteItems","setAutocompleteItems","debouncedValue","value","search","val","res","newItems"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,WAAP,MAAwB,sBAAxB;AACA,OAAOC,YAAP,MAAsD,gBAAtD;;AASA,MAAMC,iBAAiB,GAAIC,KAAD,IAAkB;AAC1C,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA,OAAZ;AAAqBC,IAAAA,cAArB;AAAqCC,IAAAA,QAAQ,GAAG;AAAhD,MAAwDJ,KAA9D;AAEA,QAAM,CAACK,iBAAD,EAAoBC,oBAApB,IAA4CV,QAAQ,CAAC,EAAD,CAA1D;AAEA,QAAMW,cAAc,GAAGV,WAAW,CAACG,KAAK,CAACQ,KAAP,EAAcJ,QAAd,CAAlC;;AAEA,QAAMK,MAAM,GAAG,MAAOC,GAAP,IAAuB;AACpC,UAAMC,GAAG,GAAG,MAAMT,OAAO,CAACQ,GAAD,CAAzB;;AAEA,QAAIC,GAAJ,EAAS;AACP,YAAMC,QAAQ,GAAGT,cAAc,CAACQ,GAAD,CAA/B;AACAL,MAAAA,oBAAoB,CAACM,QAAD,CAApB;AACD;AACF,GAPD;;AASAjB,EAAAA,SAAS,CAAC,MAAM;AACdc,IAAAA,MAAM,CAACF,cAAD,CAAN;AACD,GAFQ,EAEN,CAACA,cAAD,CAFM,CAAT;AAIA,SAAO,CAAC,YAAD,CAAc,IAAIP,KAAJ,CAAd,CAAyB,MAAM,CAACK,iBAAD,CAA/B,CAAmD,SAAS,CAACJ,QAAD,CAA5D,GAAP;AACD,CArBD;;AAuBA,eAAeF,iBAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport useDebounce from '../hooks/useDebounce';\nimport Autocomplete, { AutocompleteProps, Item } from './Autocomplete';\n\ntype Props = AutocompleteProps & {\n  onSelect: (item: Item) => void;\n  debounce?: number;\n  formatResponse?: (data: any) => any[];\n  request: (value: string) => Promise<any>;\n};\n\nconst FetchAutocomplete = (props: Props) => {\n  const { onSelect, request, formatResponse, debounce = 500 } = props;\n\n  const [autocompleteItems, setAutocompleteItems] = useState([]);\n\n  const debouncedValue = useDebounce(props.value, debounce);\n\n  const search = async (val: string) => {\n    const res = await request(val);\n\n    if (res) {\n      const newItems = formatResponse(res);\n      setAutocompleteItems(newItems);\n    }\n  };\n\n  useEffect(() => {\n    search(debouncedValue);\n  }, [debouncedValue]);\n\n  return <Autocomplete {...props} items={autocompleteItems} onSelect={onSelect} />;\n};\n\nexport default FetchAutocomplete;\n"],"file":"FetchAutocomplete.js"}