{"version":3,"file":"FetchAutocomplete.js","names":["React","useEffect","useState","useDebounce","Autocomplete","FetchAutocomplete","props","onSelect","request","formatResponse","debounce","autocompleteItems","setAutocompleteItems","debouncedValue","value","search","val","res","newItems","createElement","_extends","items"],"sources":["../../../src/components/FetchAutocomplete.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport useDebounce from '../hooks/useDebounce';\nimport Autocomplete, { AutocompleteProps, Item } from './Autocomplete';\n\ntype Props = AutocompleteProps & {\n  onSelect: (item: Item) => void;\n  debounce?: number;\n  formatResponse?: (data: any) => any[];\n  request: (value: string) => Promise<any>;\n};\n\nconst FetchAutocomplete = (props: Props) => {\n  const { onSelect, request, formatResponse, debounce = 500 } = props;\n\n  const [autocompleteItems, setAutocompleteItems] = useState([]);\n\n  const debouncedValue = useDebounce(props.value, debounce);\n\n  const search = async (val: string) => {\n    const res = await request(val);\n\n    if (res) {\n      const newItems = formatResponse(res);\n      setAutocompleteItems(newItems);\n    }\n  };\n\n  useEffect(() => {\n    search(debouncedValue);\n  }, [debouncedValue]);\n\n  return <Autocomplete {...props} items={autocompleteItems} onSelect={onSelect} />;\n};\n\nexport default FetchAutocomplete;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,WAAW,MAAM,sBAAsB;AAC9C,OAAOC,YAAY,MAAmC,gBAAgB;AAStE,MAAMC,iBAAiB,GAAIC,KAAY,IAAK;EAC1C,MAAM;IAAEC,QAAQ;IAAEC,OAAO;IAAEC,cAAc;IAAEC,QAAQ,GAAG;EAAI,CAAC,GAAGJ,KAAK;EAEnE,MAAM,CAACK,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAE9D,MAAMW,cAAc,GAAGV,WAAW,CAACG,KAAK,CAACQ,KAAK,EAAEJ,QAAQ,CAAC;EAEzD,MAAMK,MAAM,GAAG,MAAOC,GAAW,IAAK;IACpC,MAAMC,GAAG,GAAG,MAAMT,OAAO,CAACQ,GAAG,CAAC;IAE9B,IAAIC,GAAG,EAAE;MACP,MAAMC,QAAQ,GAAGT,cAAc,CAACQ,GAAG,CAAC;MACpCL,oBAAoB,CAACM,QAAQ,CAAC;IAChC;EACF,CAAC;EAEDjB,SAAS,CAAC,MAAM;IACdc,MAAM,CAACF,cAAc,CAAC;EACxB,CAAC,EAAE,CAACA,cAAc,CAAC,CAAC;EAEpB,oBAAOb,KAAA,CAAAmB,aAAA,CAACf,YAAY,EAAAgB,QAAA,KAAKd,KAAK;IAAEe,KAAK,EAAEV,iBAAkB;IAACJ,QAAQ,EAAEA;EAAS,EAAE,CAAC;AAClF,CAAC;AAED,eAAeF,iBAAiB"}